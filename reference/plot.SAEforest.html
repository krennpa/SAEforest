<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Plots model-specific characteristics of the fixed effects random forest component of
the MERF from a SAEforestObject. A variable importance plot is produced to visualize
the importance of individual covariates for the predictive performance of the model.
For the variable importance plot, arguments are passed internally to the function
vip. If requested, the plot function additionally provides a partial
dependence plot (pdp) to visualize the impact of a given number of influential covariates
on the target variable. The pdp plot is produced using partial from
the package pdp. The plot-engine for both plots is ggplot2."><title>Plot function for a 'SAEforest' object — plot.SAEforest • SAEforest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot function for a 'SAEforest' object — plot.SAEforest"><meta property="og:description" content="Plots model-specific characteristics of the fixed effects random forest component of
the MERF from a SAEforestObject. A variable importance plot is produced to visualize
the importance of individual covariates for the predictive performance of the model.
For the variable importance plot, arguments are passed internally to the function
vip. If requested, the plot function additionally provides a partial
dependence plot (pdp) to visualize the impact of a given number of influential covariates
on the target variable. The pdp plot is produced using partial from
the package pdp. The plot-engine for both plots is ggplot2."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SAEforest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/krennpa/SAEforest/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Plot function for a 'SAEforest' object</h1>
      <small class="dont-index">Source: <a href="https://github.com/krennpa/SAEforest/blob/HEAD/R/plot_SAEforest.R" class="external-link"><code>R/plot_SAEforest.R</code></a></small>
      <div class="d-none name"><code>plot.SAEforest.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots model-specific characteristics of the fixed effects random forest component of
the MERF from a <code><a href="SAEforestObject.html">SAEforestObject</a></code>. A variable importance plot is produced to visualize
the importance of individual covariates for the predictive performance of the model.
For the variable importance plot, arguments are passed internally to the function
<code><a href="https://koalaverse.github.io/vip/reference/vip.html" class="external-link">vip</a></code>. If requested, the plot function additionally provides a partial
dependence plot (pdp) to visualize the impact of a given number of influential covariates
on the target variable. The pdp plot is produced using <code><a href="https://rdrr.io/pkg/pdp/man/partial.html" class="external-link">partial</a></code> from
the package <span class="pkg">pdp</span>. The plot-engine for both plots is <span class="pkg">ggplot2</span>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for SAEforest</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  num_features <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  col <span class="op">=</span> <span class="st">"darkgreen"</span>,</span>
<span>  fill <span class="op">=</span> <span class="st">"darkgreen"</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  include_type <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  gg_theme <span class="op">=</span> <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  lsize <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  lty <span class="op">=</span> <span class="st">"solid"</span>,</span>
<span>  grid_row <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  out_list <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pdp_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An object of class <code>SAEforest</code> including a random forest model of class <code><a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger</a></code>.</p></dd>


<dt>num_features</dt>
<dd><p>Number of features for which a partial dependence plot is required.</p></dd>


<dt>col</dt>
<dd><p>Parameter specifying the color of selected plots. The argument must be specified
such that it can be processed by <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></code>. Defaults to a character name of the
color "darkgreen".</p></dd>


<dt>fill</dt>
<dd><p>Parameter specifying the fill of selected plots. The argument must be specified
such that it can be processed by <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></code>. Defaults to a character name of the
color "darkgreen".</p></dd>


<dt>alpha</dt>
<dd><p>Parameter specifying the transparency of <code>fill</code> for <code><a href="https://koalaverse.github.io/vip/reference/vip.html" class="external-link">vip</a></code> plots.
The argument must be a number in <code>[0,1]</code>.</p></dd>


<dt>include_type</dt>
<dd><p>Logical. If set to <code>TRUE</code>, the type of importance specified in the fitting process
of the model is included in the <code><a href="https://koalaverse.github.io/vip/reference/vip.html" class="external-link">vip</a></code> plot. Defaults to <code>TRUE</code>.</p></dd>


<dt>horizontal</dt>
<dd><p>Logical. If set to <code>TRUE</code>, the importance scores appear on the x-axis. If parameter is
set to <code>FALSE</code>, the importance scores are plot on the y-axis. Defaults to <code>TRUE</code>.</p></dd>


<dt>gg_theme</dt>
<dd><p>Specify a predefined theme from <span class="pkg">ggplot2</span>. Defaults to <code>theme_minimal</code>.</p></dd>


<dt>lsize</dt>
<dd><p>Parameter specifying the line size of pdp plots. The argument must be specified
such that it can be processed by <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></code>. Defaults to 1.5.</p></dd>


<dt>lty</dt>
<dd><p>Parameter specifying the line size of pdp plots. The argument must be specified
such that it can be processed by <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></code>. Defaults to "solid".</p></dd>


<dt>grid_row</dt>
<dd><p>Parameter specifying the amount of rows for the joint pdp plot. Defaults to 2.</p></dd>


<dt>out_list</dt>
<dd><p>Logical. If set to <code>TRUE</code>, a list of individual plots produced by <span class="pkg">ggplot2</span>
is returned for further individual customization and processing. Defaults to <code>FALSE</code>.</p></dd>


<dt>pdp_plot</dt>
<dd><p>Logical. If set to <code>TRUE</code>, partial dependence plots produced by <code><a href="https://rdrr.io/pkg/pdp/man/partial.html" class="external-link">partial</a></code>
from the package <span class="pkg">pdp</span> are included. Defaults to <code>TRUE</code>.</p></dd>


<dt>...</dt>
<dd><p>Optional additional inputs that are ignored for this method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Plots of variable importance and/or partial dependence of covariates ranked by corresponding
importance. Additionally, a list of individual plots can be returned facilitating individual
customization and exporting. See the following examples for details.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For the production of importance plots, be sure to specify the parameter of
<code>importance != 'none'</code> before producing estimates with function <code><a href="SAEforest_model.html">SAEforest_model</a></code>.</p>
<p>For pdp plots, note that covariates of type factor or character cannot be used for partial dependence
plots. Dummy-variables can be used, however, their pdp plots are always lines connecting two effect
points for 0 and 1. Most informative pdp plots can be produced for continuous predictors.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="SAEforestObject.html">SAEforestObject</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Loading data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"eusilcA_pop"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"eusilcA_smp"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">income</span> <span class="op">&lt;-</span> <span class="va">eusilcA_smp</span><span class="op">$</span><span class="va">eqIncome</span></span></span>
<span class="r-in"><span><span class="va">X_covar</span> <span class="op">&lt;-</span> <span class="va">eusilcA_smp</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">16</span>, <span class="fl">17</span>, <span class="fl">18</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1:</span></span></span>
<span class="r-in"><span><span class="co"># Calculating point estimates and discussing basic generic functions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="SAEforest_model.html">SAEforest_model</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">income</span>, X <span class="op">=</span> <span class="va">X_covar</span>, dName <span class="op">=</span> <span class="st">"district"</span>,</span></span>
<span class="r-in"><span>                          smp_data <span class="op">=</span> <span class="va">eusilcA_smp</span>, pop_data <span class="op">=</span> <span class="va">eusilcA_pop</span>,</span></span>
<span class="r-in"><span>                          num.trees <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in initializePtr():</span> function 'cholmod_factor_ldetA' not provided by package 'Matrix'</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'model1' not found</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Patrick Krennmair, Nicolas Frink.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

